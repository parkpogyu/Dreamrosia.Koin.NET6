@page "/identity/users"
@attribute [Authorize(Policy = Permissions.Users.View)]

<PageMenuTitle Menus="@(new []
{
    $"{_localizer["Administrator"]}",
    $"{_localizer["Manage Users"]}",
})" />

@if (!_loaded)
{
    <MudProgressCircular Color="MudBlazor.Color.Primary" Indeterminate="true" />
}
else
{
<MudPaper Elevation="25" Class="flex-x-scroll-container pa-2 mb-1 ">
    <FullSpacer/>
    <DateRangePicker DateRange="@_dateRange"
                     @bind-SelectedTerm="@_dateRangeTerm" />

    <MudButton DisableElevation
               OnClick="GetUsersAsync"
               Variant="Variant.Filled"
               StartIcon="@Icons.Material.Filled.Refresh" IconColor="MudBlazor.Color.Surface"
               Color="MudBlazor.Color.Primary"
               Size="Size.Small"
               Class="align-self-end-button ml-4">
        @_localizer["Reload"]
    </MudButton>
</MudPaper>

    <CascadingValue Value="@_items" Name="Users">
        <UserTable />
    </CascadingValue>
}